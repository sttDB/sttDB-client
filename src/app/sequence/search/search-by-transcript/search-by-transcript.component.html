<h2>Query sequences by comparing the transcript</h2>

<form id="transcript-form" [formGroup]="transcriptForm" (ngSubmit)="onSubmit()">
  <div class="form-group row">
    <h3>
      <label class="col-md-3 control-label" for="transcript">Transcript</label>
    </h3>
    <textarea id="transcript" class="transcript-input form-control input-md"
              [formControl]="transcriptForm.controls['transcript']"
              [(ngModel)]="transcript"></textarea>
  </div>

  <div *ngIf="errorMessage" class="form-group row">
    <div class="col-md-3"></div>
    <div class="label-danger col-md-9">{{ errorMessage }}</div>
  </div>

  <!-- Button -->
  <div class="form-group row">
    <div class="col-md-3"></div>
    <div class="col-md-9">
      <button id="submit-transcript" type="submit"
              class="btn btn-success pull-right">Submit
      </button>
    </div>
  </div>

  <div id="search-result" class="tm-gallery-no-border">
    <p class="text-dark">Submit to get results!</p>
  </div>

  <div *ngIf="edited">
    <div class="col-md-4">
      <h4 i18n>{ totalSequences, plural,
        =0 {There are no sequences with this transcript}
        =1 {There is 1 sequence with this transcript}
        other { There are {{totalSequences}} sequences with this transcript} }</h4>
    </div>
    <div class="row">
      <div class="panel-group col-md-12">
        <div class="panel panel-default" *ngFor="let sequence of sequences">
          <div class="panel-heading">
            <h4>Sequence: <a routerLink="{{sequence.uri}}">{{sequence.trinityId}}</a></h4>
          </div>
          <div class="panel-body">
            <div class="col-md-6">
              <h4>Experiment:</h4>
              <p>{{sequence.experiment}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
